"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("msw"),t=[{id:"u_1",name:"Tyler",profilePictureUrl:"https://pbs.twimg.com/profile_images/1428205319616798721/xmr7q976_400x400.jpg"},{id:"u_2",name:"Bono",profilePictureUrl:"https://pbs.twimg.com/profile_images/1384860221110095873/f8s_E6a6_400x400.jpg"},{id:"u_3",name:"Tanner",profilePictureUrl:"https://pbs.twimg.com/profile_images/1164219021283094530/ACRln2kL_400x400.jpg"},{id:"u_4",name:"Alex",profilePictureUrl:"https://pbs.twimg.com/profile_images/1403026826075779075/cHtraFgQ_400x400.jpg"}],n=[{id:"l_1",color:"red",name:"bug"},{id:"l_2",color:"blue",name:"feature"},{id:"l_3",color:"cyan",name:"enhancement"},{id:"l_4",color:"orange",name:"question"},{id:"l_5",color:"lime",name:"help wanted"},{id:"l_6",color:"white",name:"wontfix"},{id:"l_7",color:"rebeccapurple",name:"duplicate"},{id:"l_8",color:"yellow",name:"help-wanted"}],r=["Dependencies need to be updated","Poor performance on Windows devices","Poor performance on macOS devices","Poor performance on Android devices","Holding down the space bar causes the processor to heat up","Error: \"Cannot read property 'length' of undefined\"","The app is crashing on iOS devices","How am I supposed to create new tasks?","Styling on the profile page looks weird.","Feature: Build out multiplayer connectivity","Feature: Build out a leaderboard"],a=["I'm on it!","I'm not sure what the problem is.","I'm working on it.","I'm not sure how to fix it.","I'm not sure if I can reproduce the problem.","This is a really big deal for me.","Has there been any progress on this?","What is the status of this issue?","Never mind, I figured out how to fix this","Can you send me a little bit more information about the problem.","I've reproduced this issue. Working on a fix now.","I'm on it. I'll get back to you when I'm done.","It would seem this is caused by user error.","Whoops, I just dropped the production database. Hang on..."],o=["backlog","todo","inProgress","done","cancelled"],s=Array.from({length:100},(function(e,s){var u=Math.random()>.9;return{id:"i_"+s,title:r[Math.floor(Math.random()*r.length)],labels:[n[Math.floor(Math.random()*n.length)]],comments:Array.from({length:Math.floor(10*Math.random())+1},(function(e,n){return{id:"c_"+s+"_"+n,createdDate:new Date(Date.now()-Math.floor(1e5*Math.random())),createdBy:t[Math.floor(Math.random()*t.length)],issueId:"i_"+s,user:t[Math.floor(Math.random()*t.length)],comment:a[Math.floor(Math.random()*a.length)]}})),number:s+1,status:u?"done":o.filter((function(e){return"done"!==e}))[Math.floor(Math.random()*o.length)],createdDate:new Date(Date.now()-Math.floor(1e10*Math.random())),createdBy:t[Math.floor(Math.random()*t.length)],assignee:Math.random()>.5?t[Math.floor(Math.random()*t.length)]:null,dueDate:Math.random()>.5?new Date(Date.now()+Math.floor(1e7*Math.random())):null,completedDate:u?new Date(Date.now()+Math.floor(1e7*Math.random())):null}}));exports.worker=e.setupWorker.apply(void 0,[e.rest.get("/api/issues",(function(e,t,n){var r=e.url.searchParams,a=Number(r.get("page"))||1,o=Number(r.get("limit"))||10,u=r.get("status"),i=r.getAll("labels[]"),l=r.get("order")||"desc",m=s.filter((function(e){if(u){if(e.status!==u)return!1}else if("done"===e.status||"cancelled"===e.status)return!1;return!(i.length>0&&!i.some((function(t){return e.labels.find((function(e){return e.name===t}))})))})).sort((function(e,t){return"asc"===l?e.number<t.number?-1:e.number>t.number?1:0:e.number<t.number?1:e.number>t.number?-1:0})).slice((a-1)*o,a*o);return t(n.status(200),n.json(m))})),e.rest.get("/api/issues/:number",(function(e,t,n){var r=Number(e.params.number),a=s.find((function(e){return e.number===r}));return a?t(n.status(200),n.json(a)):t(n.status(404),n.json({message:"Not found"}))})),e.rest.get("/api/issues/:number/comments",(function(e,t,n){var r=Number(e.params.number),a=s.find((function(e){return e.number===r}));return a?t(n.status(200),n.json(a.comments)):t(n.status(404),n.json({message:"Not found"}))})),e.rest.post("/api/issues/:number/comments",(function(e,n,r){var a=Number(e.params.number),o=s.find((function(e){return e.number===a}));if(!o)return n(r.status(404),r.json({message:"Not found"}));var u=JSON.parse(e.body),i=t.find((function(e){return e.id===u.createdBy_id}));if(!i)return n(r.status(400),r.json({message:"Not found"}));var l={id:"c_"+o.id+"_"+(o.comments.length+1),issueId:o.id,createdDate:new Date,createdBy:i,comment:u.comment};return o.comments.push(l),n(r.status(201),r.json(l))})),e.rest.put("/api/issues/:number",(function(e,r,a){var o=Number(e.params.number),u=s.find((function(e){return e.number===o}));if(!u)return r(a.status(404),a.json({message:"Not found"}));var i=JSON.parse(e.body);return i.title&&(u.title=i.title),i.status&&(u.status=i.status),i.labels&&(u.labels=i.labels.map((function(e){return n.find((function(t){return t.name===e}))}))),i.dueDate&&(u.dueDate=i.dueDate),i.assignee&&(u.assignee=t.find((function(e){return e.id===i.assignee}))||null),r(a.status(200),a.json(u))})),e.rest.post("/api/issues/:number/complete",(function(e,t,n){var r=Number(e.params.number),a=s.find((function(e){return e.number===r}));return a?(a.createdDate=new Date,a.status="done",t(n.status(200),n.json(a))):t(n.status(404),n.json({message:"Not found"}))})),e.rest.post("/api/issues",(function(e,n,r){var a=JSON.parse(e.body),o=s.length+1,u={id:"i_"+o,number:o,title:a.title,status:"backlog",comments:[{issueId:"i_"+o,id:"c_"+o+"_1",createdDate:new Date,createdBy:t[Math.floor(Math.random()*t.length)],comment:a.comment}],createdDate:new Date,createdBy:t[Math.floor(Math.random()*t.length)],dueDate:null,completedDate:null,assignee:null,labels:[]};return s.push(u),n(r.status(201),r.json(u))})),e.rest.get("/api/labels",(function(e,t,r){return t(r.status(200),r.json(n))})),e.rest.get("/api/labels/:labelId",(function(e,t,r){var a=e.params.labelId,o=n.find((function(e){return e.name===a}));return o?t(r.status(200),r.json(o)):t(r.status(404),r.json({message:"Label not found"}))})),e.rest.post("/api/labels",(function(e,t,r){if(!e.body||"string"!=typeof e.body)return t(r.status(400),r.json({message:"No body"}));var a=JSON.parse(e.body);if(!a.name)return t(r.status(400),r.json({message:"No name"}));var o={id:"l_"+(n.length+1),name:a.name,color:a.color||"red"};return n.push(o),t(r.status(200),r.json(o))})),e.rest.put("/api/labels/:labelId",(function(e,t,r){var a=e.params.labelId,o=n.find((function(e){return e.name===a}));if(!o)return t(r.status(404),r.json({message:"Label not found"}));if(!e.body||"string"!=typeof e.body)return t(r.status(400),r.json({message:"No body"}));var s=JSON.parse(e.body);return s.name?(s.name&&(o.name=s.name),s.color&&(o.color=s.color),t(r.status(200),r.json(o))):t(r.status(400),r.json({message:"No name"}))})),e.rest.delete("/api/labels/:labelId",(function(e,t,r){var a=e.params.labelId,o=n.find((function(e){return e.name===a}));return o?(n.splice(n.indexOf(o),1),t(r.status(200),r.json(n))):t(r.status(404),r.json({message:"Label not found"}))})),e.rest.get("/api/users",(function(e,n,r){return n(r.status(200),r.json(t))}))]);
//# sourceMappingURL=react-query-api.cjs.production.min.js.map
